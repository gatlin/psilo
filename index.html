<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>psilo</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/jumbotron-narrow.css" rel="stylesheet">

    <!-- glyphicons -->
    <link href="css/bootstrap-glyphicons.css" rel="stylesheet">

    <style type="text/css">

        div#toc-wrapper ul, div#toc-wrapper ol {
            list-style: none;
        }

        code{white-space: pre;}

        div#annotations ul li {
            font-weight: bold;
            font-size: 28px;
            font-family: "Raleway","Helvetica",sans-serif;
            padding: 5px 10px;
            width: 100%;
        }

        div#annotations ul li:hover {
            border-radius: 5px;
            background-color: #e5e5e5;
        }

    </style>
  </head>

  <body>

    <div class="container">
      <ol class="breadcrumb">
          <li><a href="/">home</a></li>
          <li><a href="/psilo/">psilo</a></li>
      </ol>
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-4 pull-right">
                <h2>Table of Contents</h2>
                <div id="toc-wrapper">
<a name="TOC"></a>
<ul>
<li><a href="#psilo"><span class="toc-section-number">1</span> psilo</a></li>
<li><a href="#what-is-psilo"><span class="toc-section-number">2</span> What is psilo?</a></li>
<li><a href="#status"><span class="toc-section-number">3</span> Status</a></li>
<li><a href="#how-to-build"><span class="toc-section-number">4</span> How to build</a></li>
<li><a href="#questions-comments-hate-mail"><span class="toc-section-number">5</span> Questions / comments / hate mail</a></li>
</ul>
                </div>
                <div id="annotations">
                    <h2>Annotated source code</h2>
                      <ul class="list-unstyled">
                          <li><a href="src/main.html">Main module</a></li>
                          <li><a href="src/syntax.html">Syntax module</a></li>
                          <li><a href="src/parser.html">Parser module</a></li>
                          <li><a href="src/evaluator.html">Evaluator module</a></li>
                          <li><a href="src/lexer.html">Lexer module</a></li>
                      </ul>
                </div>
            </div><!-- toc column -->
            <div class="col-md-12 col-lg-8 pull-left">

<h1 id="psilo"><span class="header-section-number">1</span> psilo</h1>
<p>a parallel, streaming, iterative list operation language for writing interesting programs. <a href="https://github.com/gatlin/psilo">View it on GitHub.</a></p>
<p>© 2014 <a href="http://niltag.net">Gatlin Johnson</a> <script type="text/javascript">
<!--
h='&#110;&#x69;&#108;&#116;&#x61;&#x67;&#46;&#110;&#x65;&#116;';a='&#64;';n='&#x67;&#x61;&#116;&#108;&#x69;&#110;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x67;&#x61;&#116;&#108;&#x69;&#110;&#32;&#x61;&#116;&#32;&#110;&#x69;&#108;&#116;&#x61;&#x67;&#32;&#100;&#x6f;&#116;&#32;&#110;&#x65;&#116;</noscript></p>
<h1 id="what-is-psilo"><span class="header-section-number">2</span> What is psilo?</h1>
<p>psilo, like any lisp, will be a <strong>lis</strong>t <strong>p</strong>rocessor. However psilo will take advantage of a strong type system, linear types, and aggressive optimization techniques such as shortcut fusion. The goal is to make writing fast, resource-aware, parallelized stream processing programs as simple as possible.</p>
<p>Its goals are not to make programming easier, but to widen what is safely expressible.</p>
<p>It is also nowhere close to being finished; at the moment this is purely exploratory.</p>
<p>Technical Features (planned):</p>
<ul>
<li>No run-time garbage collection necessary owing to uniqueness types</li>
<li>Static typing for compile-time verification and optimization</li>
<li>Malleable syntax with macros</li>
<li>Dead-simple parallelism, featuring special list types (<a href="http://en.wikipedia.org/wiki/SequenceL">à la sequenceL</a>).</li>
<li>Monadic continuations and iteratee composition made dead simple</li>
<li>Orthogonal core syntax and semantics for your performance and my sanity</li>
</ul>
<p>Philosophy:</p>
<ul>
<li>All programming is manipulating languages.</li>
<li>Types define grammars; functions define parsers.</li>
<li>The earlier a question may be answered, the better.</li>
<li>If the computer can do it, it should.</li>
</ul>
<h1 id="status"><span class="header-section-number">3</span> Status</h1>
<p>Psilo is still being designed. I have written a really simple evaluator for prototyping and experimenting with the language which is actively being developed.</p>
<p>It is not a psilo implementation - just a simple lisp to explore writing interpreters. While not production quality, it might be of some educational value right now.</p>
<p>A type inference system is in the works, which is motivating an evaluator rewrite. When it works I can begin experimenting with psilo’s type system and the language proper.</p>
<p>Here is some code the interpreter runs right now:</p>
<pre class="sourceCode scheme"><code class="sourceCode scheme"><span class="co">; Utilities</span>
(<span class="kw">=</span> promise (x) (\ () x))

<span class="co">; Pairs</span>
(<span class="kw">=</span> unpair (p f)
  (p f))

(<span class="kw">=</span> Pair (f) f)

(<span class="kw">=</span> pair (x y)
  (Pair (\ (f) (f x y))))

(<span class="kw">=</span> fst (p)
  (unpair p (\ (a b) a)))

(<span class="kw">=</span> snd (p)
  (unpair p (\ (a b) b)))

<span class="co">; Options</span>
(<span class="kw">=</span> maybe (o yes no)
   (o yes no))

(<span class="kw">=</span> Option (x) x)

(<span class="kw">=</span> just (x)
  (Option (\ (j n) (j x))))

(<span class="kw">=</span> none ()
  (Option (\ (j n) (n))))

<span class="co">; Lists</span>
(<span class="kw">=</span> foldr (xs c n)
  (xs c n))

(<span class="kw">=</span> List (l) l)

(<span class="kw">=</span> <span class="kw">cons</span> (x xs)
  (List (\ (c n) (c x (foldr xs c n)))))

(<span class="kw">=</span> nil ()
  (List (\ (c n) (n))))

(<span class="kw">=</span> split (xs)
  (<span class="kw">let</span> ((f (\ (y ys)
             (pair (just y)
                   (List (\ (c n)
                     (maybe (fst ys)
                            (\ (x) (c x (foldr ((snd ys)) c n)))
                            n)))))))
  (foldr xs f (pair none nil))))

(<span class="kw">=</span> <span class="kw">car</span> (xs)
  (maybe (fst (split xs)) (\ (x) x) (promise -<span class="dv">1</span>)))

(<span class="kw">=</span> <span class="kw">cdr</span> (xs)
  (snd (split xs)))

(<span class="kw">=</span> sum (xs)
  (foldr xs (\ (y ys) (<span class="kw">+</span> y ys)) (promise <span class="dv">0</span>)))

(<span class="kw">=</span> map-list (f xs)
  (foldr xs (\ (y ys) (<span class="kw">cons</span> (f y) ys)) (promise (nil))))

<span class="co">; Miscellaneous examples</span>
(<span class="kw">=</span> add1 (x) (<span class="kw">+</span> <span class="dv">1</span> x))
(<span class="kw">=</span> square (x) (* x x))
(<span class="kw">=</span> fact (x)
  (<span class="kw">if</span> (=? x <span class="dv">0</span>)
      <span class="dv">1</span>
      (* x (fact (<span class="kw">-</span> x <span class="dv">1</span>)))))

(<span class="kw">=</span> lst1 (<span class="kw">cons</span> <span class="dv">3</span> (<span class="kw">cons</span> <span class="dv">2</span> (<span class="kw">cons</span> <span class="dv">1</span> (nil)))))

(print (<span class="kw">+</span> (sum (map-list add1 (map-list square lst1)))
          (fact (<span class="kw">car</span> (<span class="kw">cdr</span> (lst1))))))</code></pre>
<h1 id="how-to-build"><span class="header-section-number">4</span> How to build</h1>
<p>You need the Glasgow Haskell Compiler and a number of libraries; I suggest starting off with <a href="http://haskell.org/platform">the Haskell platform</a>.</p>
<p>Clone the repository:</p>
<pre><code>git clone https://github.com/gatlin/psilo</code></pre>
<p>Set up a cabal sandbox:</p>
<pre><code>cabal sandbox init
cabal configure
cabal install --only-dependencies</code></pre>
<p>Then make with:</p>
<pre><code>make</code></pre>
<p>And return to the Edenic, pre-build post-checkout status of the code with</p>
<pre><code>make clean</code></pre>
<h1 id="questions-comments-hate-mail"><span class="header-section-number">5</span> Questions / comments / hate mail</h1>
<p>Use the Issues feature of GitHub or email me: <script type="text/javascript">
<!--
h='&#110;&#x69;&#108;&#116;&#x61;&#x67;&#46;&#110;&#x65;&#116;';a='&#64;';n='&#x67;&#x61;&#116;&#108;&#x69;&#110;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x67;&#x61;&#116;&#108;&#x69;&#110;&#32;&#x61;&#116;&#32;&#110;&#x69;&#108;&#116;&#x61;&#x67;&#32;&#100;&#x6f;&#116;&#32;&#110;&#x65;&#116;</noscript>.</p>

            </div><!-- column -->
        </div><!-- row -->

      <div class="footer">
        <p>&copy; 2013-2014. Theme lovingly stolen from other people.</p>
      </div>

    </div> <!-- /container -->

  </body>
</html>
